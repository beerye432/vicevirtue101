<!DOCTYPE html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1"><title>Add a habit</title><link rel="stylesheet" href="/bundle/bundle.css"><script src="/bundle/bundle.js"></script></head><body onload="checkLogin(); initializeAlertDialog()"><div id=AlertDialog class=modal></div><div class=forms><h2>Add A Habit</h2><form method=post><p><label><span id=title_text>Habit Title</span></label></p><p><input id=title type=text name=fullname placeholder="e.g. Run for 30 minutes" maxlength=30></p><p><label>Habit Icon</label></p><center><img id=icon1 class=icon onclick="selectImage('icon1');" src=/img/sleep.jpg alt="sleep image"> <img id=icon2 class=icon onclick="selectImage('icon2');" src=/img/salad.jpg alt="eat image"> <img id=icon3 class=icon onclick="selectImage('icon3');" src=/img/run.jpg alt="run image"> <img id=icon4 class=icon onclick="selectImage('icon4');" src=/img/add.png alt="find an image"> <input type=file style=display:none; onchange="checkUpload('icon4');" name=selection id=icon4Upload accept=image/jpeg></center><p><label>Weekly Frequency</label></p><div id=ck-button><label><input id=sunday type=checkbox name=date value=sunday><span>Sun</span></label> <label><input id=monday type=checkbox name=date value=monday><span>Mon</span></label> <label><input id=tuesday type=checkbox name=date value=tuesday><span>Tues</span></label> <label><input id=wednesday type=checkbox name=date value=wednesday><span>Wed</span></label> <label><input id=thursday type=checkbox name=date value=thursday><span>Thur</span></label> <label><input id=friday type=checkbox name=date value=friday><span>Fri</span></label> <label><input id=saturday type=checkbox name=date value=saturday><span>Sat</span></label></div><p><label>Daily Frequency</label></p><div id=daily-button><label><input id=frequency_one onclick=clearOther1(); type=checkbox name=day value=one><span>1</span></label> <label><input id=frequency_two onclick=clearOther2(); type=checkbox name=day value=two><span>2</span></label> <label><input id=frequency_three onclick=clearOther3(); type=checkbox name=day value=three><span>3</span></label> <span id=times>Times</span></div><p><label><span id=others_text>Others:</span></label></p><p><input id=others type=text name=day placeholder="More than 3 times"></p><p id=add_buttons><input id=cancel type=button value=Cancel onclick=cancelAddHabit();><input id=save type=button value="Save It" onclick=checkScript()></p></form></div><script type=text/javascript>function selectImage(e){document.getElementById("icon1").style.border="none",document.getElementById("icon2").style.border="none",document.getElementById("icon3").style.border="none",document.getElementById("icon4").style.border="none",document.getElementById("icon1").setAttribute("class","icon"),document.getElementById("icon2").setAttribute("class","icon"),document.getElementById("icon3").setAttribute("class","icon"),document.getElementById("icon4").setAttribute("class","icon");var t=document.getElementById(e);t.setAttribute("class","icon active"),t.style.border="5px solid #42A5F5"}function checkUpload(e){var t=$("#icon4Upload")[0];1==t.files.length?"image/jpeg"==t.files[0].type&&t.files[0].size<=512e3?selectImage(e):(showAlertDialog("Type of file incorrect or size too large. Please upload an image file of 500kb or less."),t.value=""):(showAlertDialog("Number of files incorrect. Please only upload one image file."),t.value="")}function clearOther1(){document.getElementById("others").value="",$("#frequency_two").prop("checked",!1),$("#frequency_three").prop("checked",!1)}function clearOther2(){document.getElementById("others").value="",$("#frequency_one").prop("checked",!1),$("#frequency_three").prop("checked",!1)}function clearOther3(){document.getElementById("others").value="",$("#frequency_one").prop("checked",!1),$("#frequency_two").prop("checked",!1)}function checkScript(){var e=document.getElementById("title").value,t=e.replace(/[^\w\s]/gi,"");0==e.localeCompare(t)?submitHabit():showAlertDialog("Your title contains illegal characters, please change it. Illegal characters are anything but alphanumerics, spaces and underscores.")}$("#icon4").click(function(){$("#icon4Upload").click()}),$("#icon4Upload").change(function(){Parse.initialize("V6NcQkeFHBu6SOcSYJptWFgKzgOiuc2ywEXnmL31","Xw3yYjXIFL6tVLwN3vhmPJMYLmd4AiJI3mRUjl1l");var e=$("#icon4Upload")[0],t=e.files[0],c="photo.jpg",n=new Parse.File(c,t);n.save().then(function(){$("#icon4").prop("src",n.url())},function(e){})}),$("#others").change(function(){$("#frequency_one").prop("checked",!1),$("#frequency_two").prop("checked",!1),$("#frequency_three").prop("checked",!1)});</script></body></html>